{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\naxios.defaults.baseURL = 'https://api.unsplash.com';\naxios.defaults.headers.common['Authorization'] =\n  'Client-ID LxvKVGJqiSe6NcEVZOaLXC-f2JIIWZaq_o0WrF8mwJc';\n\nfunction getPhotos(query) {\n  return axios.get('/search/photos', {\n    params: {\n      query,\n      orientation: 'portrait',\n    },\n  });\n}\n\nconst formEl = document.querySelector('.js-search-form');\nconst listEl = document.querySelector('.js-gallery');\n\nformEl.addEventListener('submit', onSubmit)\n\nasync function onSubmit(event) {\n  event.preventDefault();\n  const searchQuery = event.currentTarget.elements['user-search-query'].value.trim()\n  console.log(searchQuery);\n\n  try {\n    const { data: {results} } = await getPhotos(searchQuery)\n    if (results.length === 0) {\n      iziToast.error({\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n});\n    }\n    console.log(results);\n    listEl.innerHTML = createMarkup(results);\n  } catch (error) {\n    console.log(error);\n  } finally {\n    \n  }\n\n}\n\nfunction createMarkup(arr) {\n  return arr.map(item => {\n     return `<li class='gallery__item'>\n    <img src='${item.urls.small}' alt='${item.alt_description}' class='gallery-img' />\n  </li>`\n   }).join('')\n  \n}"],"names":["axios","getPhotos","query","formEl","listEl","onSubmit","event","searchQuery","results","iziToast","createMarkup","error","arr","item"],"mappings":"6vBAIAA,EAAM,SAAS,QAAU,2BACzBA,EAAM,SAAS,QAAQ,OAAO,cAC5B,wDAEF,SAASC,EAAUC,EAAO,CACxB,OAAOF,EAAM,IAAI,iBAAkB,CACjC,OAAQ,CACN,MAAAE,EACA,YAAa,UACd,CACL,CAAG,CACH,CAEA,MAAMC,EAAS,SAAS,cAAc,iBAAiB,EACjDC,EAAS,SAAS,cAAc,aAAa,EAEnDD,EAAO,iBAAiB,SAAUE,CAAQ,EAE1C,eAAeA,EAASC,EAAO,CAC7BA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,cAAc,SAAS,qBAAqB,MAAM,KAAM,EAClF,QAAQ,IAAIC,CAAW,EAEvB,GAAI,CACF,KAAM,CAAE,KAAM,CAAC,QAAAC,CAAO,CAAC,EAAK,MAAMP,EAAUM,CAAW,EACnDC,EAAQ,SAAW,GACrBC,EAAS,MAAM,CACb,QAAS,0EACjB,CAAC,EAEG,QAAQ,IAAID,CAAO,EACnBJ,EAAO,UAAYM,EAAaF,CAAO,CACxC,OAAQG,EAAP,CACA,QAAQ,IAAIA,CAAK,CACrB,QAAY,CAET,CAEH,CAEA,SAASD,EAAaE,EAAK,CACzB,OAAOA,EAAI,IAAIC,GACL;AAAA,gBACIA,EAAK,KAAK,eAAeA,EAAK;AAAA,QAE1C,EAAE,KAAK,EAAE,CAEb"}